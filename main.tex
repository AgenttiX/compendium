% Document properties
\documentclass[a4paper, finnish, 12pt, twoside]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[finnish]{babel}

% LaTeX Packages
% Sorted by name
\usepackage{amsmath}	% Equations
\usepackage{amsfonts}	% Just in case to ensure better symbol fonts
\usepackage{amssymb}	% Mathematical symbols, \mathbb{}
\usepackage{array}		% Arrays
\usepackage{bm}			% Bold vector symbols
\usepackage{cite}		% Source citations
\usepackage{emptypage} 	% Clears unwanted artifacts from empty pages
\usepackage{esint}		% Symbols for integrals over closed lines (kiertointegraali) \oint \oiint
\usepackage{fancyhdr} 	% For custom header style
\usepackage{graphicx}	% For including pictures
\usepackage{hyperref}	% Hyperlinks
\usepackage{pslatex}	% Makes the PDF output look better
\usepackage{titletoc,tocloft} % For styling Table of Contents
\usepackage{titlesec}	% For styling \part headers


% Define Table of Contents style
\setcounter{tocdepth}{2}
\setlength{\cftsubsecindent}{4.5em}
\dottedcontents{section}[3em]{}{1.3em}{.6em}

% Define \part header style
\titleclass{\part}{top} % Make \part like a chapter
\titleformat{\part}
[display]
{\centering\normalfont\huge\bfseries}
{\titlerule[3pt]\vspace{3pt}\titlerule[1pt]\vspace{3pt}\MakeUppercase{\partname} \thepart}
{0pt}
{\huge\MakeUppercase}
[\vspace{-0.5em}\rule{\textwidth}{2pt}]

% Define the amount of whitespace to come after \part
\titlespacing*{\part}{0pt}{0pt}{40pt}

% Custom command for fetching the part name to the header
\newcommand*\parttitle{}
\let\origpart\part
\renewcommand*{\part}[2][]{%
	\ifx\\#1\\% optional argument not present?
		\origpart{#2}%
		\renewcommand*\parttitle{#2}%
	\else
		\origpart[#1]{#2}%
		\renewcommand*\parttitle{#1}%
	\fi
}

% Preventing problems caused by the Unicode non-breaking space character
% Without this declaration the compiler would crash if the user has inserted such character by mistake
% Now it just generates an error text
\DeclareUnicodeCharacter{00A0}{UNICODE_ERROR}

%-----
% Environment and command definitions

% It's highly recommended to use these whenever possible so that the style of the whole document can be changed from here

% Basic table for label & equation
\newenvironment{eqtable}[1]{
	\begin{table}[!ht]
	\centering
	\caption{#1}
	\setlength{\extrarowheight}{10pt}
	\begin{tabular}{| l | >{$\displaystyle} l <{$} |} \hline
}{
	\end{tabular}
	\end{table}
}

% Basic table with columns for symbol and units
\newenvironment{eqtable-units}[1]{
	\begin{table}[!ht]
	\centering
	\caption{#1}
	\setlength{\extrarowheight}{10pt}
	\begin{tabular}{| l | >{$} l <{$} | l | >{$\displaystyle} l <{$} |} \hline
}{
	\end{tabular}
	\end{table}
}

% Matrix with style that can be changed from here
\newenvironment{styledmatrix}{
	\setlength{\extrarowheight}{0pt}
	\begin{bmatrix}
}{
	\end{bmatrix}
}

% Systems of multiple equations (yhtälöryhmä)
\newenvironment{eqgroup}{
	\setlength{\extrarowheight}{0pt}
	\begin{cases}
}{
	\end{cases}
}

% Inner product
\newcommand{\innerp}[2]{
	\langle \bm{#1}, \bm{#2} \rangle
}

%-----

% Document metadata
\title{Linnunradan käsikirja teekkareille}
\author{Tampereen teekkarit}
\date{\the\day.\the\month.\the\year}


\begin{document}

% Title page
\begin{titlepage}
\centering
{\huge Linnunradan käsikirja teekkareille \par}
% {\large Tampereen teekkarit \par}
{\the\day.\the\month.\the\year \par}
\vfill
\includegraphics{by-sa.eps}
\end{titlepage}

\pagenumbering{roman} % Start with roman numbers

% Foreword
Maailma on kaavoja ja taulukoita täynnä, mutta ne ovat olleet hajallaan useissa kirjoissa,
joista tiedon etsiminen on hidasta - varsinkin paperiversioista, joissa Ctrl+F ei luonnollisesti toimi.
Lisäksi monet niistä ovat tiukkojen tekijänoikeuksien ja kopiokieltojen alaisia,
vaikka tieto itsessään on vapaata. Nyt niille on vaihtoehto. Ole hyvä.

% Disclaimer
Tämä kirja on opiskelijaprojekti, joten emme voi ottaa vastuuta mahdollisista virheistä.
Toivommekin, että ilmoitat niistä vaikkapa GitHubin kautta, jotta voimme korjata ne.

% Credits
\begin{table*}[h!]
\centering
\begin{tabular}{ll}
Mika \textit{AgenttiX} Mäki		& Projektin perustaja \\
Daniel \textit{Ohems} Saarimäki \\
% Add name here					% Add title here
\end{tabular}
\end{table*}

% License
\vfill
{
	\centering
	\href{https://creativecommons.org/licenses/by-sa/4.0/}{Creative Commons Attribution-ShareAlike 4.0 International}
	\par
}

% Table of Contents
\pagebreak
\tableofcontents
\vfill % Prevents TOC from expanding to full page height

% Define header
\pagestyle{fancy}
\fancyhead{} 
\fancyhead[LO,RE]{\MakeUppercase{\textit{\parttitle}}} 
\fancyhead[RO,LE]{\nouppercase{\textit{\rightmark}}}
\fancyfoot{}
\fancyfoot[C]{\thepage}

% Main content
\pagebreak
\pagenumbering{arabic} % Switch back to arabic page numbers
\include{matematiikka}
\include{fysiikka}
\include{kemia}
\include{tietotekniikka}

% Citations
\pagebreak
\renewcommand{\headrulewidth}{0pt} 		% Clear header line
\fancyhead{}							% Clear header
\setcounter{secnumdepth}{-1}			% Don't add numbers to chapters
\addcontentsline{toc}{part}{Viitteet}
\bibliography{lahdeluettelo}			% Citation source
\bibliographystyle{IEEEtran}			% Citation style


\end{document}
